import{d as S,b as F,o as d,c as p,f as a,t as _,u as c,F as R,p as x,k as I,r as g,a as l,w as B,g as L,m as v,i as P,q as D,j as W}from"./index-DkA9jdjo.js";import{a as k,b as T,u as A,_ as j,F as N}from"./_plugin-vue_export-helper-DZeGk9gQ.js";const V=o=>(x("data-v-99e76e1f"),o=o(),I(),o),E=V(()=>a("h1",{class:"border-bottom-1"},"Results",-1)),H={class:"text-center"},K=V(()=>a("p",null,"The winner is",-1)),z={class:"font-bold"},G=S({__name:"Podium",setup(o){const r=k(),m=F(()=>r.getPlayerName(r.winner));return(i,u)=>(d(),p(R,null,[E,a("p",null,"Took "+_(c(r).durationMinutes)+" minute(s)",1),a("div",H,[K,a("h1",z,_(m.value),1)])],64))}}),J=T(G,[["__scopeId","data-v-99e76e1f"]]),O=o=>(x("data-v-20912227"),o=o(),I(),o),Q=O(()=>a("h1",{class:"border-bottom-1"},"Results",-1)),U={key:0},X=S({__name:"ResultsTable",setup(o){const r=k(),m=s=>!s.finishTime||i(s)?null:s.scores.reduce((e,n)=>e.score>n.score?e:n).playerId,i=s=>{if(!s.finishTime)return!1;const t=s.scores.map(e=>e.score).reduce((e,n)=>Math.max(e,n));return s.scores.every(e=>e.score===t)},u=s=>!s.finishTime||i(s)?null:s.scores.reduce((e,n)=>e.score<n.score?e:n).playerId,h=(s,t)=>t.filter(e=>m(e)===s).length,w=(s,t)=>t.filter(e=>i(e)&&e.scores.some(n=>n.playerId===s)).length,f=(s,t)=>t.filter(e=>u(e)===s).length,C=(s,t)=>t.some(e=>e.scores.some(n=>n.playerId===s)&&!e.finishTime),b=F(()=>r.players.map(t=>({name:t.name,wins:h(t.id,r.results),draws:w(t.id,r.results),losses:f(t.id,r.results),incomplete:C(t.id,r.results)})).sort((t,e)=>t.wins!==e.wins?e.wins-t.wins:t.losses!==e.losses?e.losses-t.losses:0)),y=s=>[{"bg-primary":!s.incomplete&&s.rank===1,"bg-gray-400":s.incomplete}],$=b.value.filter(s=>s.incomplete).length;return(s,t)=>{const e=g("Column"),n=g("DataTable");return d(),p(R,null,[Q,a("p",null,"Took "+_(c(r).durationMinutes)+" minute(s)",1),l(n,{value:b.value,rowClass:y},{default:B(()=>[l(e,{header:"#"},{body:B(M=>[L(_(M.index+1),1)]),_:1}),l(e,{field:"name",header:"Name"}),l(e,{field:"wins",header:"Won"}),l(e,{field:"draws",header:"Drew"}),l(e,{field:"losses",header:"Lost"})]),_:1},8,["value"]),c($)>0?(d(),p("h4",U,[a("em",null,_(c($))+" player(s) have incomplete results!",1)])):v("",!0)],64)}}}),Y=T(X,[["__scopeId","data-v-20912227"]]),Z=o=>(x("data-v-94f01561"),o=o(),I(),o),q={class:"p-fluid mt-2"},ee=Z(()=>a("footer",null,[a("a",{href:"https://www.flaticon.com/free-icons/ball-eight",title:"ball eight icons"},"Ball eight icons created by Boris farias - Flaticon")],-1)),se=S({__name:"ResultsView",setup(o){const r=W(),m=k(),i=A(),u=P(!1),h=()=>{u.value=!0},w=()=>{m.clear(),f(),r.push({name:"home"})},f=()=>{u.value=!1};return(C,b)=>{const y=g("Button");return d(),p(R,null,[a("main",null,[c(i).format===c(N).RoundRobin?(d(),D(Y,{key:0})):v("",!0),c(i).format===c(N).Knockout?(d(),D(J,{key:1})):v("",!0),a("div",q,[l(y,{label:"Restart",onClick:h})]),l(j,{visible:u.value,header:"Restart",message:"Are you sure you want to restart? All data for the current flyer will be lost!",onConfirm:w,onHide:f},null,8,["visible"])]),ee],64)}}}),ne=T(se,[["__scopeId","data-v-94f01561"]]);export{ne as default};
